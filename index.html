<!DOCTYPE html>
<html>
<head>
    <title>48 Hours Auth Key System</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }
        
        .container {
            max-width: 500px;
            margin: 50px auto;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        
        h2 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
            padding-bottom: 10px;
            border-bottom: 2px solid #f0f0f0;
        }
        
        input {
            width: 100%;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            margin-bottom: 15px;
            box-sizing: border-box;
        }
        
        button {
            width: 100%;
            padding: 15px;
            background: #28a745;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 10px;
            transition: 0.3s;
        }
        
        button:hover {
            background: #218838;
            transform: translateY(-2px);
        }
        
        button:disabled {
            background: #cccccc;
            cursor: not-allowed;
            transform: none;
        }
        
        .task-box {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #ffc107;
            display: none;
        }
        
        .key-box {
            background: #d4edda;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border: 2px solid #28a745;
            display: none;
        }
        
        .earn-link {
            display: block;
            background: #ffc107;
            color: #333;
            text-align: center;
            padding: 15px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: bold;
            margin: 15px 0;
            transition: 0.3s;
        }
        
        .earn-link:hover {
            background: #e0a800;
            transform: scale(1.02);
        }
        
        .status {
            color: #28a745;
            font-weight: bold;
            text-align: center;
            margin: 15px 0;
            font-size: 18px;
        }
        
        .timer {
            background: #fff3cd;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            margin: 15px 0;
            font-weight: bold;
            color: #856404;
            font-size: 16px;
        }
        
        .warning {
            background: #f8d7da;
            color: #721c24;
            padding: 12px;
            border-radius: 8px;
            margin: 15px 0;
            font-size: 14px;
        }
        
        .success-msg {
            background: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            margin: 20px 0;
            font-weight: bold;
            display: none;
        }
        
        .instructions {
            background: #e7f3ff;
            padding: 15px;
            border-radius: 8px;
            margin-top: 25px;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>üîê 48 Hours Auth Key System</h2>
        
        <!-- VERIFY SECTION -->
        <div id="verifySection">
            <h3>‚úÖ Verify Your Key</h3>
            <input type="text" id="userKey" placeholder="Paste your auth key here">
            <button onclick="verifyKey()">üîç VERIFY KEY</button>
            
            <div class="success-msg" id="successMessage">
                ‚úÖ Verification Successful! Redirecting...
            </div>
        </div>
        
        <hr style="margin: 30px 0;">
        
        <!-- GENERATE SECTION -->
        <div id="generateSection">
            <h3>üîë Generate New Key</h3>
            <p style="color: #666; text-align: center;">
                Get 48-hour valid auth key
            </p>
            
            <button onclick="showTask()" style="background: #007bff;">
                üöÄ GENERATE NEW KEY
            </button>
        </div>
        
        <!-- TASK SECTION -->
        <div class="task-box" id="taskSection">
            <h3>üìã Complete This Simple Task</h3>
            <p>Click the link below and wait 5 seconds</p>
            
            <!-- YAHAN APNA EARNING LINK DALO -->
            <a href="https://your-earning-link-here.com" 
               target="_blank" 
               class="earn-link" 
               id="earningLink">
               üîó CLICK HERE TO EARN & CONTINUE
            </a>
            
            <div class="status" id="taskStatus"></div>
            
            <div class="timer" id="timerBox">
                ‚è≥ Key Validity: <span id="countdown">48:00:00</span>
            </div>
            
            <button id="generateBtn" disabled>
                üîí GENERATE MY KEY
            </button>
        </div>
        
        <!-- KEY DISPLAY -->
        <div class="key-box" id="keySection">
            <h3>üéâ Your Auth Key Generated!</h3>
            <input type="text" id="generatedKey" readonly>
            <button onclick="copyKey()">üìã COPY KEY</button>
            
            <div class="warning">
                ‚ö†Ô∏è <b>Important:</b> This key expires in <b id="expiryTime">48 hours</b>
                <br><small>Copy it now and verify above</small>
            </div>
        </div>
        
        <!-- INSTRUCTIONS -->
        <div class="instructions">
            <h4>üìù How It Works:</h4>
            <ol>
                <li>Click <b>GENERATE NEW KEY</b></li>
                <li>Click the <b>YELLOW LINK</b> (you'll earn from this)</li>
                <li>Wait for <b>GENERATE MY KEY</b> button to activate</li>
                <li>Click it to get your <b>48-hour valid key</b></li>
                <li>Copy the key and <b>VERIFY</b> it above</li>
                <li>After verification, you'll get access</li>
            </ol>
        </div>
    </div>

    <script>
        // ==============================================
        // YAHAN APNA EARNING LINK DALO
        // ==============================================
        const EARNING_LINK = "https://arolinks.com/QqBCke";
        // ==============================================
        
        // Variables
        let taskCompleted = false;
        let keyExpiryTime = null;
        let generatedKey = "";
        
        // Set earning link
        document.getElementById('earningLink').href = EARNING_LINK;
        
        // ========== VERIFY KEY FUNCTION ==========
        function verifyKey() {
            const userInput = document.getElementById('userKey').value.trim();
            
            if (!userInput) {
                alert("‚ö†Ô∏è Please enter an auth key first!");
                return;
            }
            
            // Get saved key data
            const savedData = localStorage.getItem('authKeyData');
            
            if (!savedData) {
                alert("‚ùå No key found! Please generate a new key first.");
                return;
            }
            
            try {
                const keyData = JSON.parse(savedData);
                const currentTime = Date.now();
                
                // Check if key matches
                if (userInput !== keyData.key) {
                    alert("‚ùå Invalid key! Please enter the correct key.");
                    return;
                }
                
                // Check if key expired
                if (currentTime > keyData.expiryTime) {
                    alert("‚ùå Key expired! This key was valid for 48 hours only.\nPlease generate a new key.");
                    localStorage.removeItem('authKeyData');
                    return;
                }
                
                // SUCCESS - Show success message
                document.getElementById('successMessage').style.display = 'block';
                
                // Calculate remaining time
                const remainingTime = keyData.expiryTime - currentTime;
                const hoursLeft = Math.floor(remainingTime / (1000 * 60 * 60));
                const minutesLeft = Math.floor((remainingTime % (1000 * 60 * 60)) / (1000 * 60));
                
                // Success message with details
                setTimeout(function() {
                    alert(
                        "‚úÖ VERIFICATION SUCCESSFUL!\n\n" +
                        "üîë Key: " + keyData.key.substring(0, 10) + "...\n" +
                        "‚è≥ Expires in: " + hoursLeft + " hours " + minutesLeft + " minutes\n" +
                        "üìÖ Generated: " + keyData.generatedTime + "\n\n" +
                        "Redirecting to main website..."
                    );
                    
                    // YAHAN APNI MAIN WEBSITE KA LINK DALO
                    // ====================================
                    window.location.href = "https://sv-2p.vercel.app/";
                    // ====================================
                    
                }, 1000);
                
            } catch (error) {
                alert("‚ùå Error verifying key. Please generate a new key.");
                localStorage.removeItem('authKeyData');
            }
        }
        
        // ========== GENERATE KEY SECTION ==========
        function showTask() {
            document.getElementById('taskSection').style.display = 'block';
            taskCompleted = false;
            document.getElementById('taskStatus').innerHTML = '';
            document.getElementById('generateBtn').disabled = true;
            document.getElementById('keySection').style.display = 'none';
            
            // Scroll to task section
            document.getElementById('taskSection').scrollIntoView({behavior: 'smooth'});
            
            alert("üìù Click the YELLOW link to complete the task!");
        }
        
        // When user clicks earning link
        document.getElementById('earningLink').addEventListener('click', function(event) {
            // Don't prevent default - let it open in new tab
            if (!taskCompleted) {
                // Open in new tab
                window.open(EARNING_LINK, '_blank');
                
                // Mark task as completed after 5 seconds
                setTimeout(function() {
                    taskCompleted = true;
                    document.getElementById('taskStatus').innerHTML = '‚úÖ Task Completed Successfully!';
                    document.getElementById('generateBtn').disabled = false;
                    document.getElementById('generateBtn').innerHTML = 'üéâ GENERATE KEY NOW';
                    document.getElementById('generateBtn').style.background = '#28a745';
                    
                    // Make generate button clickable
                    document.getElementById('generateBtn').onclick = generateNewKey;
                    
                    alert("Great! Now click GENERATE KEY NOW button.");
                }, 5000); // 5 seconds delay
            }
        });
        
        // Generate new key
        function generateNewKey() {
            // Create unique key
            const timestamp = Date.now();
            const randomStr = Math.random().toString(36).substring(2, 10).toUpperCase();
            generatedKey = "AUTH-" + randomStr + "-" + timestamp.toString(36).toUpperCase();
            
            // Set expiry 48 hours from now
            keyExpiryTime = timestamp + (48 * 60 * 60 * 1000);
            
            // Save to localStorage
            const keyData = {
                key: generatedKey,
                expiryTime: keyExpiryTime,
                generatedTime: new Date().toLocaleString('en-IN')
            };
            
            localStorage.setItem('authKeyData', JSON.stringify(keyData));
            
            // Display the key
            document.getElementById('generatedKey').value = generatedKey;
            document.getElementById('keySection').style.display = 'block';
            
            // Show expiry time
            const expiryDate = new Date(keyExpiryTime);
            const formattedDate = expiryDate.toLocaleString('en-IN', {
                day: '2-digit',
                month: 'short',
                year: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
            
            document.getElementById('expiryTime').textContent = formattedDate;
            
            // Start countdown timer
            startCountdown();
            
            // Scroll to key section
            document.getElementById('keySection').scrollIntoView({behavior: 'smooth'});
            
            alert(
                "‚úÖ Key Generated Successfully!\n\n" +
                "üîë Your Key: " + generatedKey + "\n" +
                "‚è≥ Valid for: 48 hours\n" +
                "üìÖ Expires on: " + formattedDate + "\n\n" +
                "Copy this key and verify it above!"
            );
        }
        
        // Countdown timer
        function startCountdown() {
            function updateTimer() {
                if (!keyExpiryTime) return;
                
                const now = Date.now();
                const timeLeft = keyExpiryTime - now;
                
                if (timeLeft <= 0) {
                    document.getElementById('countdown').textContent = "EXPIRED";
                    document.getElementById('countdown').style.color = "red";
                    return;
                }
                
                const hours = Math.floor(timeLeft / (1000 * 60 * 60));
                const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);
                
                const timeString = 
                    hours.toString().padStart(2, '0') + ":" +
                    minutes.toString().padStart(2, '0') + ":" +
                    seconds.toString().padStart(2, '0');
                
                document.getElementById('countdown').textContent = timeString;
                
                // Color change based on time
                if (hours < 12) {
                    document.getElementById('countdown').style.color = "orange";
                }
                if (hours < 6) {
                    document.getElementById('countdown').style.color = "red";
                }
            }
            
            updateTimer();
            setInterval(updateTimer, 1000);
        }
        
        // Copy key function
        function copyKey() {
            const keyInput = document.getElementById('generatedKey');
            keyInput.select();
            keyInput.setSelectionRange(0, 99999);
            
            try {
                navigator.clipboard.writeText(keyInput.value)
                    .then(() => {
                        alert("‚úÖ Key copied to clipboard!\n\nNow paste it in the verification box above.");
                        // Auto-focus on verify input
                        document.getElementById('userKey').focus();
                    })
                    .catch(err => {
                        // Fallback for older browsers
                        document.execCommand('copy');
                        alert("‚úÖ Key copied!");
                    });
            } catch (err) {
                document.execCommand('copy');
                alert("‚úÖ Key copied!");
            }
        }
        
        // Page load actions
        window.onload = function() {
            // Check for existing key data
            const savedData = localStorage.getItem('authKeyData');
            if (savedData) {
                try {
                    const keyData = JSON.parse(savedData);
                    keyExpiryTime = keyData.expiryTime;
                    startCountdown();
                    
                    // If key is expired, remove it
                    if (Date.now() > keyExpiryTime) {
                        localStorage.removeItem('authKeyData');
                    }
                } catch (error) {
                    // Do nothing
                }
            }
            
            // Focus on verify input
            document.getElementById('userKey').focus();
            
            // Auto-paste from clipboard if available
            if (navigator.clipboard) {
                navigator.clipboard.readText()
                    .then(text => {
                        if (text && text.includes('AUTH-')) {
                            document.getElementById('userKey').value = text;
                        }
                    })
                    .catch(err => {
                        // Ignore errors
                    });
            }
        };
        
        // Enter key press to verify
        document.getElementById('userKey').addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                verifyKey();
            }
        });
    </script>
</body>
</html>
